!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("carousel",[],e):"object"==typeof exports?exports.carousel=e():t.carousel=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=0)}([function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return void u("Carousel is a constructor and should be called with the `new` keyword");var e=t||{};this.root=a(e.root),this.itemWrap=this.root.children[0],this.items=Array.prototype.slice.call(this.itemWrap.children,0);var n=this.items.length;this.length=n,this.offset=t.offset||h(this.root),this.speed=t.speed||300,this.indexArray=r(n),this.initState(),this.initStyle(),this.handleEvent()}function o(t,e,n){t.style.transform=e,t.style.transitionDuration=n+"ms"}function r(t){for(var e=[],n=0;n<t;n++)e.push(n);return e}function s(t,e){var n=e.match(/[A-Z]/g);if(!t.currentStyle&&n)for(var i=e,o=0;o<n.length;o++){var r=n[o];i=i.replace(r,"-"+r.toLowerCase())}return parseFloat(t.currentStyle&&t.currentStyle[i]||getComputedStyle(t,null)[e])}function h(t){var e=s(t,"width"),n=s(t,"paddingLeft"),i=s(t,"paddingRight"),o=e-n-i;return o>0&&o||document.clientWidth||document.documentElement.clientWidth}function a(t){return t&&("string"==typeof t||"object"==typeof t&&1===t.nodeType)||u("element does not exist"),"string"==typeof t&&document.querySelector("#"+t)||t}function u(t){throw new Error(t)}Object.defineProperty(e,"__esModule",{value:!0}),i.prototype.handleEvent=function(){this.itemWrap.addEventListener("touchstart",this.handleTouchStart.bind(this),!1)},i.prototype.initState=function(){},i.prototype.handleTouchStart=function(){var t=event.touches[0];this.touchStart={x:t.pageX,y:t.pageY,time:Date.now()},this.isScrolling=!1,this.bindTouchMoveFn=this.handleTouchMove.bind(this),this.bindTouchEndFn=this.handleTouchEnd.bind(this),this.itemWrap.addEventListener("touchmove",this.bindTouchMoveFn,!1),this.itemWrap.addEventListener("touchend",this.bindTouchEndFn,!1)},i.prototype.handleTouchMove=function(){if(!(event.touches.length>1||event.scale&&1!==event.scale)){var t=event.touches[0],e=this.touchStart,n=this.delta={x:t.pageX-e.x,y:t.pageY-e.y};this.isScrolling=this.isScrolling||Math.abs(n.x)>Math.abs(n.y),this.isScrolling&&(event.preventDefault(),this.handleMove(n.x))}},i.prototype.handleTouchEnd=function(){var t=this.delta.x>0?"right":"left";this.move(t),this.itemWrap.removeEventListener("touchmove",this.bindTouchMoveFn,!1),this.itemWrap.removeEventListener("touchend",this.bindTouchEndFn,!1)},i.prototype.initStyle=function(){this.hideTransform="translate("+this.offset+"px, 0px) translateZ(0px)",this.itemWrap.style.width=this.offset*this.length+"px";for(var t=this.getTransform(0),e=this.indexArray.slice(0),n=new Array(this.length),i=0;i<3;)n[i<2?e.shift():e.pop()]=t[i++];this.items.forEach(function(t,e){t.style.width=this.offset+"px",t.style.left=-this.offset*e+"px",o(t,n[e]||this.hideTransform,0)}.bind(this))},i.prototype.move=function(t){var e=this.indexArray;"left"===t?e.push(e.shift()):e.unshift(e.pop()),this.handleMove(t)},i.prototype.getTransform=function(t){return["translate("+t+"px, 0px) translateZ(0px)","translate("+(this.offset+t)+"px, 0px) translateZ(0px)","translate("+(-this.offset+t)+"px, 0px) translateZ(0px)"]},i.prototype.handleMove=function(t){for(var e="string"==typeof t?0:t,n="string"==typeof t?t:t>0?"right":"left",i=this.indexArray.slice(0),r=this.getTransform(e),s=0,h=[];s<3;)h[s]=s<2?i.shift():i.pop(),s++;var a="left"===n?h[1]:h[2],u="left"===n?i.pop():i.shift();h.forEach(function(t,n){var i=t===a||0!==e?0:this.speed;o(this.items[t],r[n],i)}.bind(this)),0===e&&o(this.items[u],this.hideTransform,0)},e.default=i}])});